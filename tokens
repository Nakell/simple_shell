#include "myshell.h"

/**
 * tokenize_string - function to tokenize a string based on delimiters
 * @input_string: the input string to be tokenized
 * @input_length: the number of bytes read from the input string
 * Return: an array of token pointers
 */
char **tokenize_string(char *input_string, ssize_t input_length)
{
	char **tokens = NULL;
	char *delimiters = "\t\n\0";
	char *token;
	int token_index = 0, j;
	int token_length;

	tokens = malloc(sizeof(char *) * (input_length + 1));
	if (tokens == NULL)
		return (NULL);
	token = strtok(input_string, delimiters);

	while (token != NULL)
	{
		token_length = _strlen(token);
		tokens[token_index] = malloc(sizeof(char) * (token_length + 1));
		if (tokens[token_index] == NULL)
		{
			for (j = 0; j < token_index; j++)
			{
				free(tokens[j]);
			}
			free(tokens);
			return (NULL);
		}
		_strcopy(tokens[token_index], token);
		token = strtok(NULL, delimiters);
		token_index++;
	}
	tokens[token_index] = NULL;
	return (tokens);
}
/**
 * free_token_array - function to free memory allocated for an array of tokens
 * @tokens: the array of token pointers to be freed
 */
void free_token_array(char **tokens)
{
	int index;

	if (tokens == NULL)
		return;
	for (index = 0; tokens[index] != NULL; index++)
	{
		free(tokens[index]);
	}
	free(tokens);
}
